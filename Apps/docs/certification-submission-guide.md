---
ms.author: oromalle
title: Microsoft 365 認定申請ガイド
author: orionomalley
description: Microsoft 365 認定申請ガイドの詳細ビュー
keywords: アプリ認定チーム Microsoft 365 セキュリティ コンプライアンス m365
ms.topic: conceptual
ms.service: attestation
ms.openlocfilehash: 4d0f09b3a1dd6bde7022e93d08a491e2855d90a7
ms.sourcegitcommit: e97156a6eaf1d5ec5c26fd14add210a92bacd944
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/28/2021
ms.locfileid: "52071366"
---
# <a name="microsoft-365-certification-submission-guide"></a>Microsoft 365 認定申請ガイド

**この記事の内容:**
- [はじめに](#introduction)
- [前提条件](#prerequisites) 
- [Microsoft 365 認定仕様の更新プログラム](#microsoft-365-certification-specification-updates)
- [認定スコープ](#certification-scope)
- [認定プロセス](#certification-process)
- [コンプライアンスの証拠](#compliance-evidence) 
- [最初のドキュメントの申請](#initial-document-submission) 
- [Evidence コレクションと評価アクティビティ](#evidence-collection-and-assessment-activities)
- [認定基準](#app-certification-criteria)
- [Application Security](#application-security)
- [運用セキュリティ](#operational-security) 
- [データ処理のセキュリティとプライバシー](#data-handling-security-and-privacy)
- [オプションの外部コンプライアンス フレームワーク レビュー](#optional-external-compliance-frameworks-review)
- [付録 A](#appendix-a)
- [付録 B](#appendix-b) 
- [付録 C](#appendix-c) 
- [付録 D](#appendix-d) 
- [付録 E](#appendix-e) 
- [付録 F](#appendix-f) 
- [付録 G ](#appendix-g)
- [詳細情報](#learn-more) 
- [用語集](#glossary) 


## <a name="introduction"></a>概要

Microsoft 365 アプリ コンプライアンス プログラムの一部である Microsoft 365 認定は、サード パーティの開発者向けアプリ/アドインを Microsoft 365 プラットフォームに統合する際に、データとプライバシーが適切に保護され保護されているという保証と信頼を企業組織に提供します。 検証に合格するアプリケーションとアドインは **、Microsoft 365 エコシステム全体で Microsoft 365 Certified** に指定されます。 

Microsoft 365 認定プログラムに参加することで、これらの補足条項に同意し、Microsoft Corporation との Microsoft 365 認定プログラムへの参加に適用される関連ドキュメント ("Microsoft"、"we"、"us"、または "our") に準拠することに同意するものとします。 お客様は、該当する場合、お客様自身、会社、その他のエンティティに代わって、これらの Microsoft 365 認定補足条項を受け入れる権限を持っているものとします。 弊社は、いつでもこれらの補足条項を変更、修正、または終了する場合があります。 変更または変更後も Microsoft 365 認定プログラムに継続的に参加した場合は、新しい補足条項に同意するものとします。 新しい補足条項に同意しない場合、またはこれらの補足条項を終了する場合は、Microsoft 365 認定プログラムへの参加を停止する必要があります。

このドキュメントでは、ISV (独立ソフトウェア ベンダー) を対象に、Microsoft 365 認定プロセスに関する情報、プロセスの開始に必要な前提条件、ISV に必要な特定のセキュリティ制御の詳細を提供します。  Microsoft 365 アプリ コンプライアンス プログラムの一般的な情報は、Microsoft 365 アプリ コンプライアンス プログラム ページをご覧 [ください](https://docs.microsoft.com/microsoft-365-app-certification/overview)。 

> [!IMPORTANT]
> 現在、Microsoft 365 認定は制限されています。
>* Microsoft Teams アプリケーション (タブ、ボットなど) 。
>* Sharepoint Apps/Add-ins
>* Office アドイン (Word、Excel、PowerPoint、Outlook、Project、OneNote)

## <a name="prerequisites"></a>前提条件

### <a name="publisher-attestation"></a>Publisher の構成証明

Microsoft 365 認定プロセスを受け取る前に、Publisher の構成証明を完了している必要があります。 ただし、Publisher の構成証明を完了する前に、Microsoft 365 認定プロセスを開始できます。  

### <a name="read-the-microsoft-365-certification-specification"></a>Microsoft 365 認定仕様を読む

すべての ISV (独立ソフトウェア ベンダー) は、スコープ内環境とアプリ/アドインによってすべての適用可能なコントロールが満たされる状態を確保するために、この Microsoft 365 認定仕様全体を読み取る必要があります。 これにより、円滑な評価プロセスを実現できます。

## <a name="microsoft-365-certification-specification-updates"></a>Microsoft 365 認定仕様の更新プログラム 

Microsoft 365 認定仕様の更新プログラムは、約 6 ~ 12 か月ごとに行う予定です。 これらの更新プログラムは、新しいターゲット セキュリティ ドメインおよび/またはセキュリティ制御を導入する可能性があります。 更新プログラムは、開発者からのフィードバック、脅威の状況に対する変更、およびプログラムの成熟に応じ、プログラムのセキュリティ ベースラインを向上するために基づいて行います。 

Microsoft 365 認定評価を既に開始している ISV は、評価の開始時に有効だった Microsoft 365 認定仕様のバージョンで評価を続行できます。 年次再認定を含むすべての新しい申請は、発行されたバージョンに対して評価する必要があります。

> [!NOTE]
> この Microsoft 365 認定仕様内のすべてのコントロールに準拠して認定を受け取る必要はありません。 ただし、この Microsoft 365 認定仕様で説明されている各セキュリティ ドメインに対して、しきい値 (公開されません) が設定されています。 一部のコントロールは **'Hard Fail'** として分類されます。これは、これらのセキュリティコントロールが不足すると評価に失敗します。 

## <a name="certification-scope"></a>認定スコープ

スコープ **内環境** は、アプリ/アドイン コードの配信をサポートし、アプリ/アドインが通信しているバックエンド システムをサポートする環境です。 適切なセグメンテーションが実行され、接続環境がスコープ内環境のセキュリティに影響を与え得ない場合を限り、追加の接続環境もスコープに含まれます。 障害復旧環境は、プライマリ環境に何かが発生した場合にサービスを満たすためにこれらの環境が必要となるので、評価の範囲内に含める必要があります。  スコープ内 **のシステム コンポーネントという用語は**、スコープ内環境内で使用されるすべてのデバイス   とシステムを参照します。  スコープ内のコンポーネントには、次のものが含まれますが、これらに限定されるではありません。
* Web アプリケーション。
* サーバー。
* ファイアウォール (または同等)
* スイッチ。
* ロード バランサー。
* 仮想インフラストラクチャ。
* クラウド プロバイダー Web 管理ポータル 

> [!IMPORTANT]
> スコープ内環境には DMZ が必要であり、アプリ/アドインのサポート環境は内部ビジネス システムおよび企業環境からセグメント化する必要があります。そのため、評価アクティビティの範囲はスコープ内システムにのみ制限されます。 認定アナリストは、評価中にセグメンテーション手法を検証し、使用しているセグメンテーション手法の有効性を検証するテストを含む必要がある侵入テストレポートを確認します。

### <a name="infrastructure-as-a-service-iaas-platform-as-a-service-paas-and-software-as-a-service-saas"></a>サービスとしてのインフラストラクチャ (IaaS)、サービスとしてのプラットフォーム (PaaS)、サービスとしてのソフトウェア (SaaS) 
IaaS および/または PaaS を使用して、レビュー中のアプリケーションまたはアドイン コード配信のインフラストラクチャをサポートする場合、クラウド プラットフォーム プロバイダーは、認定プロセス全体で評価されるセキュリティ制御の一部を担当します。 そのため、認定アナリストは [、PCI DSS](bookmark://pci-dss)コンプライアンス構成証明   (AOC)、ISO27001、SOC [2](bookmark://soc-2)Type II レポートなどの外部コンプライアンス レポートを通じて、クラウド プラットフォーム プロバイダーによるセキュリティのベスト プラクティスに関する独立した外部検証を提供する必要があります。   

付録 F では、次の展開の種類に基づいて、アプリ/アドインが M365 データを展開するかどうかに基づいて、どのセキュリティコントロールが適用される可能性が高いかの詳細を示します。 
* ISV Hosted 
* IaaS Hosted 
* PaaS/Serverless Hosted 
* ハイブリッド ホスト 
* 共有ホスト 

IaaS または PaaS が展開されている場合は、これらの展開の種類内でホストされている環境の証拠を提供する必要があります。

### <a name="sampling"></a>サンプリング

認定評価をサポートする証拠の要求は、さまざまなオペレーティング システム、デバイスの主な機能、さまざまなデバイスの種類を考慮して、スコープ内のシステム コンポーネントのサンプルに基づく必要があります。 認定プロセスの開始時点で適切なサンプルが選択されます。 次の表をサンプル サイズのガイドとして使用する必要があります。

|母集団のサイズ              | サンプル                  |
|---------------------------- |-------------------------|
|<5|1|
|>5 & <10|2|
|>9 & <25|3|
|>24|4|

> [!NOTE]
>最初のサンプルに含まれるデバイス間で不一致が特定された場合は、評価中にサンプル サイズが大きくなる可能性があります。 

## <a name="certification-process"></a>認定プロセス

認定プロセスを開始する前に、Publisher の構成証明を正常に開始または完了している必要があります。 構成証明の応答は、Microsoft 365 認定プロセスをサポートするために使用され、次のように処理されます。 

1. Publisher 構成証明のドキュメントを確認して、現在の環境に合わせ 
2. 電子メールによる Microsoft 365 認定への進行状況の要求 <AppCert@microsoft.com> 
3. 認定アナリストは、Microsoft 365 認定プロセスを開始する前にダイアログを開きます   
4. 最初のドキュメント [提出を送信する](#initial-document-submission)
5. 認定アナリストは、Microsoft 365 認定プロセスを正式に開始する証拠が必要なコントロールの一覧を提供します。
6. Microsoft 365 認定を完了するために、スコープ内のすべての Microsoft 365 認定コントロールが 60 日間のウィンドウ内で満たされたという証拠を提出する 

> [!IMPORTANT]
> **申請の時間枠:** 証拠の要求に適時に対応できる場合、評価プロセスには平均で 15 日かかると予想されます。 Microsoft では、この認定申請ガイドが読み取り、その中で設定されているコントロールを満たして、認定プロセスを開始する前に十分な証拠を提供できると確信してください。 認定プロセスを開始すると、最大 60 日間の評価の完了が許可され、それ以外の場合は既に収集された証拠が古くなります。 60 日間の期間が過ごした後で、評価に成功しなかった場合、申請は失敗し、プロセスを再度開始する必要があります。 Microsoft 365 認定仕様を満たしていない場合、または 60 日間の期間に達し、十分な証拠が提供されない場合、失敗した結果は Microsoft によって公開されません。 

## <a name="compliance-evidence"></a>コンプライアンスの証拠

必須ではありませんが、現在他の外部セキュリティ フレームワークに準拠している場合は、Microsoft 365 認定管理の一部を満たすためにこれらの認定を使用できます。 認定アナリストは、サポートされている外部セキュリティ フレームワークの範囲とセキュリティ管理範囲を確認して、Microsoft 365 認定評価から除外できるコントロールを決定します。外部セキュリティ フレームワークの範囲には、Microsoft 365 認定評価のスコープ環境が含まれます。 

認定アナリストは、既存の外部セキュリティ フレームワークを Microsoft 365 認定仕様に合わせて調整します。 ただし、サポート ドキュメントで Microsoft 365 認定管理が外部セキュリティ フレームワーク監査/評価の一部として評価されたという保証を提供できない場合は、そのコントロールが実施されているという証拠を追加で提供する必要があります。 

現在、Microsoft 365 認定評価のサポートで使用できる外部セキュリティ フレームワークには、次のものが含まれます。

*  [ISMS](#isms) /[IEC](#iec) - IS0/IEC 27001 仕様 
*  [PCI DSS](#pci-dss)
*  [SOC 2](#soc-2)

ドキュメントでは、Microsoft 365 認定のスコープ内環境がこれらの外部セキュリティ フレームワークの範囲内に含まれている必要があります。 これらのセキュリティ フレームワークの検証は、評判の良い外部サードパーティ企業が実施した有効な認定の証拠を受け入れて満たされます。 これらの評判の良い企業は、関連するコンプライアンス プログラムの国際認定機関のメンバーである必要があります。 [PCI DSS の](https://www.iso.org/certification.html)ISO 27001 および認定セキュリティ 評価者 (QSA) の ISO 認定と適合性の標準を参照してください。 [](https://www.pcisecuritystandards.org/assessors_and_solutions/qualified_security_assessors) 

次の表は、この検証プロセスの一環として認定アナリストが必要とするドキュメントを示しています。

| **Standard** | **要件** |
| ----- | ----- |
| **[ISO 27001](#iso-27001)** | 適用性に関する声明 (SOA) の公開バージョンと、発行された ISO 27001 証明書のコピーが必要になります。  SOA は、114 の情報セキュリティ制御のそれぞれについての位置を要約し、ISO 27001 証明書で十分に詳細ではないコントロールの除外を識別するために使用されます。 一般向けバージョンの SOA を確認して判断できない場合、一部の Microsoft 365 認定仕様コントロールの検証に ISO 27001 を使用する場合、アナリストは完全な SOA にアクセスする必要があります。  アナリストは、ISO 27001 評価アクティビティの範囲を検証するほか、上記のように監査会社の有効性も確認します。|
|**[PCI DSS](#pci-dss)**| スコープ内 **のアプリケーション** とシステム コンポーネントを明確に識別する、有効なレベル 1 コンプライアンス証明 (AOC) ドキュメントを提供する必要があります。  自己評価 AOC **は、セキュリティ** のベスト プラクティスに合った証拠として受け入れされません。 AOC を使用して、PCI DSS 評価の一環として評価および確認された Microsoft 365 認定仕様のコントロールを決定します。|
|**[SOC 2](#soc-2)**|**SOC 2 (Type I** または Type II) レポートは、この Microsoft 365 認定仕様内の評価コントロールの適合性の証拠として使用するには、最新の (過去 15 か月以内に発行され、宣言された期間が過去 27 か月以内に開始された) 必要があります。|


## <a name="microsoft-365-certification"></a>Microsoft 365 認定

サポートされている外部セキュリティ フレームワークは、Microsoft 365 認定管理の一部に対応する証拠として使用できます。 外部のセキュリティ フレームワークを検討する前に、認定アナリストは上記のドキュメントを使用して、外部セキュリティ フレームワークの範囲とセキュリティ制御範囲を確認します。 

次の付録を使用して、外部セキュリティ フレームワークと Microsoft 365 認定仕様の間に潜在的なギャップが存在する場所を特定できます。 

|**フレームワーク** | **その他の考慮事項** |
|-------------- | --------------------|
|ISO 27001| [**付録 C**](#appendix-c): Evidence Collection – ISO 27001 のデルタ。|
|PCI DSS | [**付録 D**](#appendix-d): Evidence Collection – PCI DSS のデルタ。|
|SOC 2| [**付録 E**](#appendix-e): Evidence Collection – SOC 2 のデルタ。|

> [!NOTE]
> 上記の外部セキュリティ標準/フレームワークは、Microsoft 365 認定管理の一部を満たす証拠として提出することができますが、Microsoft 365 認定を渡しても、これらの標準/フレームワークに対する監査に合格できるとは限らない。 Microsoft 365 認定仕様は、これらのセキュリティ標準/フレームワークの小さなサブセットにすら限定され、Microsoft はセキュリティ体制に関するレベルの保証を得る必要があります。

## <a name="initial-document-submission"></a>最初のドキュメントの申請

最初のドキュメント提出は、認定アナリストがスコープを実行し、評価の対象範囲を決定するのに役立ちます。 その後、評価の実行に使用されるサポート ドキュメントと証拠を提出する必要があります。 最初の申請には、次に示す情報を含める必要があります。

| **ドキュメント &nbsp; の概要**     |   **ドキュメントの詳細**  |
| -------------------------| -----------------------------|
|**アプリ/アドインの説明** | アプリ/アドインの目的と機能の説明。 これにより、認定アナリストは、アプリ/アドインがどのように機能し、それが使用されるのかを理解できる必要があります。
|**侵入テスト レポート** |過去 12 か月以内に完了した侵入テスト レポート。 このレポートには、アプリ/アドインの展開をサポートする環境と、アプリ/アドインの操作をサポートする追加の環境が含まれる必要があります。 **注:** 毎年の侵入テストを行わない場合は、認定プロセスを通じてテストを行う必要があります。|
|**アーキテクチャ図**|アプリ/アドインのサポート インフラストラクチャの概要を表す論理アーキテクチャ図。 これには、すべての **ホスティング環境と** 、アプリ/アドインをサポートするサポート インフラストラクチャが含まれる必要があります。 この図は、認定アナリストがスコープ内のシステムを理解し、サンプリングを決定するのに役立つ環境内のすべてのサポート システム コンポーネントを示す必要があります。 使用するホスティング環境の種類も指定してください。ISV Hosted、IaaS、PaaS、または Hybrid。 **注:** SaaS を使用する場合は、環境内でサポート サービスを提供するために使用されるさまざまな SaaS サービスを指定してください。|
|**パブリック フットプリント** | サポート インフラストラクチャ **で** 使用されるパブリック IP アドレスと URL の詳細。 これは、使用範囲を分割するために適切なセグメンテーションが実装されていない限り、環境に割り当てられた完全なラウタブル IP 範囲を含める必要があります (セグメンテーションの十分な証拠が必要になります)|
|**データ フロー図** |次の詳細を示すフロー図。
||&#x2713; M365 データフローは、アプリ/アドイン [(EUII](#euii) および OII を含む) に [流れます](#oii) 。|
||&#x2713; M365 データ フロー (該当する場合)|
||&#x2713;データの保存場所と保存場所、外部サード パーティへのデータの渡し方 (第三者の詳細を含む)、およびオープン/パブリック ネットワークを通して転送中および保存時にデータが保護される方法を強調表示する図。|
|**API エンドポイントの詳細**| アプリで使用されるすべての API エンドポイントの完全な一覧。 環境スコープを理解するために、環境内で API エンドポイントの場所を指定します。                                
|**Microsoft API のアクセス許可**| アプリ/アドインが機能するために要求されるアクセス許可と、要求されたアクセス許可の正当性と共に使用される Microsoft API のすべてについて説明するドキュメントを提供します。|
|**データ ストレージの種類** |次を説明するデータストレージと処理ドキュメント。|
||&#x2713; M365 Data [EUII](#euii) および [OII](#oii) が受信および保存されている顧客の範囲|
||&#x2713;データ保持期間。|
||&#x2713; M365 データがキャプチャされる理由。|
||&#x2713; M365 データが格納されている場所 (上記のデータ フロー図に含める必要があります)。|
|**コンプライアンスの確認**|Publisher 構成証明申請に含まれる外部セキュリティ フレームワークのサポート ドキュメント、または Microsoft 365 認定管理を確認する際に考慮されるドキュメント。 現在、次の 3 つがサポートされています。|
||&#x2713; PCI [DSS](#pci-dss) 構成証明 (AOC) を参照してください。|
||&#x2713; [SOC 2](#soc-2) Type I/Type II レポートを作成します。|
||&#x2713; [ISMS](#isms)  /  [IEC](#iec) - 1S0/IEC 27001 適用性に関する声明 (SoA) と認定。|
|**Web 依存関係**|現在実行中のバージョンとアプリ/アドインで使用される依存関係の一覧を示すドキュメント。|
|**ソフトウェア インベントリ**|スコープ内環境内で使用されるソフトウェアとバージョンを含む最新のソフトウェア インベントリ。|
|**ハードウェア インベントリ**| サポート インフラストラクチャで使用される最新のハードウェア インベントリ。 これは、評価フェーズを実行する際のサンプリングに役立ちます。 環境に PaaS が含まれる場合は、使用されるサービスの詳細を提供します。|

## <a name="evidence-collection-and-assessment-activities"></a>Evidence コレクションと評価アクティビティ

信頼性の高い証拠収集と評価活動を通じて、認定アナリストはセキュリティ体制を評価して、Microsoft 365 認定仕様管理に対する適切なレベルのデータ セキュリティ保証と遵守を取得できます。 認定アナリストは、次のようにこれを実現します。 

**Evidence コレクション**

* 上記の [最初のドキュメント提出] [セクションで強調表示されている最初の](#initial-document-submission) ドキュメント 
* ポリシー ドキュメント 
* ドキュメントの処理 
* システム構成設定 
* チケットの変更 
* 制御レコードの変更 
* システム レポート

評価プロセスを完了するために必要な証拠を収集するために、さまざまな方法が使用されます。  この証拠のコレクションは、次の形式の場合があります。 
* ドキュメント 
* スクリーンショット 
* インタビュー 
* スクリーンシェアリング 

使用される証拠収集手法は、評価プロセス中に決定されます。 

**評価アクティビティ**

認定アナリストは、この Microsoft 365 認定仕様内のコントロールを適切に満たしたかどうかを判断するために、提供した証拠を確認します。 

可能な場合、および評価を完了するために必要な時間を短縮するために、最初のドキュメント提出に詳細なドキュメントの [](#initial-document-submission)一部またはすべてが事前に   提供される必要があります。

認定アナリストは、最初のドキュメント提出と Publisher 構成証明情報から提供された証拠を確認して、適切な調査行、サンプリング サイズ、および上記の詳細な証拠を取得する必要性を特定します。  認定アナリストは、収集された情報を分析して、この Microsoft 365 認定仕様内でコントロールを実行する方法と条件について結論を導き出します。 

## <a name="app-certification-criteria"></a>アプリ認定基準

アプリ、サポート インフラストラクチャ、およびサポート ドキュメントは、次のセキュリティ ドメイン全体で評価されます。

1. [**Application Security**](#application-security)
1. [**運用セキュリティ /セキュリティで保護された展開**](#operational-security)
1. [**データ処理のセキュリティとプライバシー**](#data-handling-security-and-privacy)
1. [**オプションの外部コンプライアンス フレームワーク レビュー**](#optional-external-compliance-frameworks-review)

これらの各セキュリティ ドメインには、評価プロセスの一部として評価される 1 つ以上の特定の要件を含む特定のキー コントロールが含まれます。 Microsoft 365 認定がすべてのサイズの開発者に含まれています。4 つのセキュリティ ドメインのそれぞれは、スコアリング システムを使用して評価され、各ドメインの全体的なスコアを決定します。 Microsoft 365 認定の各コントロールのスコアは、そのコントロールが満たされないという認識されたリスクに基づいて、1 (低) から 3 (高) の間で割り当てされます。 4 つのセキュリティ ドメインのそれぞれには、パスと見なされる最小パーセントマークがあります。 この仕様の特定の要素には、次のような自動失敗条件が含まれます。

- 最小特権 (PoLP) の原則に従ってない API アクセス許可。  
- 必要な場合は、侵入テスト レポートはありません。
- マルウェア対策の防御なし
- 多要素認証は、管理アクセスを保護するために使用されません。  
- パッチ適用プロセスはありません。  
- 適切な [GDPR プライバシー](#gdpr) 通知はありません。  

## <a name="application-security"></a>Application Security

アプリケーション セキュリティ ドメインは、次の 3 つの領域に焦点を当て、 
* GraphAPI アクセス許可の検証 
* 外部接続チェック
* アプリケーション のセキュリティ テスト 

**GraphAPI アクセス許可の検証**

GraphAPI アクセス許可の検証は、アプリ/アドインが過剰に制限されたアクセス許可を要求しない検証を行います。 これは、要求されるアクセス許可を手動で確認することで実行されます。 認定アナリストは、これらのチェックを Publisher の構成証明申請に対して相互参照し、要求されるアクセスのレベルを評価して、"最小特権" のプラクティスが満たされているのを確認します。 認定アナリストは、これらの「最小特権」の慣行が満たされていないと考え、認定アナリストとオープンディスカッションを行い、要求されるアクセス許可のビジネス上の正当性を検証します。 このレビュー中に見つかった Publisher 構成証明申請に対する不一致もフィードバックを受け取り、Publisher の構成証明を更新できます。 

**外部接続チェック**

評価の一環として、アナリストは、M365 以外の接続を識別するために、アプリケーション機能の簡単な説明を実行します。  Microsoft またはサービスへの直接接続として識別されない接続は、評価中にフラグが設定され、議論されます。

**アプリケーション のセキュリティ テスト**

アプリ/アドインとサポート環境に関連するリスクの適切なレビューは、アプリ/アドインのセキュリティを保証するために不可欠です。 侵入テストの形式でのアプリケーション セキュリティ テストは、Microsoft が公開していないサービスにアプリケーションに接続している場合に実行する必要があります。 アプリが Microsoft 以外のサービスやバックエンドに接続せずにスタンドアロンで動作する場合、侵入テストは必要ありません。


### <a name="penetration-testing-scope"></a>侵入テストスコープ

侵入テストアクティビティには、アプリ/アドインの展開をサポートする環境 (たとえば、アプリ/アドイン コードがホストされている場合、通常はマニフェスト ファイル内のリソース) と、アプリ/アドインの操作をサポートする追加の環境 (たとえば、アプリ/アドインが Microsoft 365 以外の他の Web アプリケーションと話している場合) が含まれる必要があります。  スコープを定義する場合は、スコープ内環境のセキュリティに影響を与える可能性のある"接続済み" システムまたは環境が、すべての侵入テストアクティビティに含まれるものに注意する必要があります。 

スコープ内環境を他の環境からセグメント化する手法を使用する場合、侵入テストアクティビティは、そのセグメンテーション手法の有効性を検証する必要があります。 これは、侵入テスト レポート内で詳細に説明する必要があります。 
 

### <a name="testspecification"></a>テスト仕様 

|テスト | コントロール |
|-------|-----------|
|**侵入テスト**| アプリケーションとインフラストラクチャの侵入テスト **は、毎年** (12 か月ごとに) 行い、評判の良い独立した企業によって実施される必要があります。 特定された重大な脆弱性とリスクの高い脆弱性の修復は、侵入テストの終了から 1 か月以内、または文書化された修正プロセスに応じて早く完了する必要があります。完全な外部フットプリント (IP アドレス、URL、API エンドポイントなど)侵入テストの範囲内に含める必要があります。また、侵入テスト レポートに記載する必要があります。完全な外部フットプリント (IP アドレス、URL、API エンドポイントなど) **侵入** テストの範囲内に含める必要があります。また、侵入テスト レポートに記載する必要があります。                                                                                                                                                                           Web アプリケーションの侵入テストには、すべての脆弱性クラスが含まれる必要があります。たとえば、最新の OWASP Top 10 または SANS Top 25 CWE などです。                                                                                                                                                                                侵入テスト会社による特定された脆弱性の再テストは必要ありません。修復と自己レビューで十分ですが、評価中に十分な修復を示す十分な証拠を提供する必要があります。|

### <a name="application-security-testing-reportreview"></a>アプリケーション セキュリティ テスト レポートのレビュー

侵入テスト レポートは、次の自動エラー条件を満たす脆弱性が存在しな **かから確認されます。**

* サポートされていないオペレーティング システムの存在。 

* 既定、列挙可能、または推測可能な管理アカウントの存在。

* 注入リスクSQL存在します。*

* クロスサイト スクリプティングの存在。*

* ディレクトリ トラバーサル (ファイル パス) の脆弱性の存在。*

* ヘッダー応答の分割、要求の密輸、および Desync 攻撃など、HTTP の脆弱性の存在。

* ソース コードの開示の有無 [(LFI を含む](#lfi))。*

* CVSS パッチ管理ガイドラインで定義されているクリティカル スコアまたはハイ スコア。

* 大量の EUII または OUI を侵害するために容易に悪用される可能性のある、技術的な重大な脆弱性。

*脆弱性に関係なく CVSS Score

> [!IMPORTANT]
>レポートでは、[アプリケーション セキュリティ テスト仕様] セクションで詳しく説明されているすべてを示す十分な保証を提供できる必要があります。


### <a name="penetration-testing-requirements-and-cost"></a>侵入テストの要件とコスト

現在侵入テストに参加していない ISV の場合、侵入テストは Microsoft 365 認定の下に含まれています。 Microsoft は、手動テストの最大 12 日間、侵入テストのコストを手配およびカバーします。 侵入テストのコストは、環境のテストに必要な日数に基づいて計算されます。 テストの 12 日間を超える費用は、ISV の責任となります。 また、ISV は、認証が授与される前に侵入テストで特定された脆弱性が修復されたが、クリーン レポートを作成する必要はないことを実証する責任も負います。

侵入テストが配置された後、ISV は、次のように再スケジュールとキャンセルに関連する料金を担当します。

| **再スケジュール手数料タイムスケール** | **比率買掛金** |
|------------------|------------------------|
| スケジュールを変更する要求は、スケジュールされた開始日の 30 日以上前に受信しました。 | 0% 買掛金 |
| スケジュールされた開始日の 8 ~ 30 日前に受信した要求を再スケジュールします。 | 25% 買掛金 |
| 予約開始日の 2 ~ 7 日前に受信した要求を、会社の再予約日で再スケジュールします。| 50% 買掛金 |
| 再スケジュール要求は、開始日の 2 日前に受信しました。 | 100% 買掛金 |

| **キャンセル料タイムスケール** | **比率買掛金** |
|------------------|------------------------|
| キャンセル要求は、スケジュールされた開始日の 30 日以上前に受信しました。 | 25% 買掛金 |
| キャンセル要求は、スケジュールされた開始日の 8 ~ 30 日前に受信しました。 | 50% 買掛金 |
| スケジュールされた開始日の 7 日前に受信した取り消し要求。 | 90% 買掛金 |

## <a name="operational-security"></a>運用セキュリティ

このドメインは、アプリのサポート インフラストラクチャと展開プロセスの配置とセキュリティのベスト プラクティスを測定します。

### <a name="test-specification"></a>テスト仕様

|テスト | コントロール |
| ------------------------|------------------------------ |
| **マルウェア保護** | マルウェアの影響を受ける一般的なすべてのスコープ内システムにマルウェア保護メカニズムを展開する必要があります。 これらの保護メカニズムには、マルウェアから保護するウイルス対策ソフトウェアやアプリケーション制御手法の使用が含まれます。 ウイルス対策ソフトウェアまたはアプリケーション制御を使用する場合は、次の条件を満たす必要があります。                                                                                            ウイルス対策 (マルウェア対策製品も含む) は、以下を満たす必要があります。 |
||&#x2713;ウイルス対策ソフトウェアは、スコープ内のすべてのシステム コンポーネントで実行されています。|
||&#x2713;ウイルス対策ソフトウェアは最新の状態 (30 日以内) に保持されます。|
||&#x2713;ウイルス対策の署名は最新の状態 (1 日以内) に保持されます。|
||&#x2713;オンアクセス スキャンまたは通知による定期的なスキャンを構成する必要があります。  オンアクセス スキャンを使用する場合は、週単位のスキャンも構成する必要があります。ただし、オンアクセス スキャンが構成されていない場合は、毎日のスキャンを構成する必要があります。|
||&#x2713;ウイルス対策ソフトウェアは、 **次** のように構成する必要があります。|
||&emsp;&#x25fc;疑わしいマルウェアをブロックします。|
||&emsp;&#x25fc;疑わしいマルウェアを検疫します。|
||&emsp;&#x25fc;疑わしいマルウェアに関する通知を提供します。|
||&#x2713;ウイルス対策ソフトウェアは、 **すべての** アクティビティをログに記録するように構成する必要があります。
||&#x2713;マルウェア対策の実践を促進するには、ポリシーと手順を実施する必要があります。|
||または|
||アプリケーション コントロールは、次の条件を満たすために、スコープ内のすべてのシステムで構成する必要があります。|
||&#x2713;スコープ内のシステム コンポーネントで実行できるすべての許可されたアプリケーションは、組織によって正式に承認されている必要があります。|
||&#x2713;組織は、アプリケーションのビジネス上の正当性を持つ承認済みアプリケーションの完全なリストを維持する必要があります。|
||&#x2713;特定のアプリケーション制御メカニズムを完全に文書化する必要があります。つまり、ホワイトリストに登録された場所。コード署名など|
||&#x2713;アプリケーション コントロールをドキュメントとして構成する必要があります。|
||&#x2713;ドキュメント化されたアプリケーション承認プロセスを実施し、監査可能である必要があります。|
|**パッチ管理**|パッチ **適用** を適切な方法で実施するためのパッチ適用ポリシーと手順を文書化している必要があります。 CVSS  V3.1 推奨リスクランキング スコア、または同等のスコア分類に基づいて、新しいセキュリティの脆弱性を識別、ランク付け、および修正する堅牢なプロセスが必要です。 
||**推奨リスク ランキング スコア** (CVSS v3.1 基本スコア範囲)|
||&emsp;**クリティカル**: 9.0 ~ 10.0。|
||&emsp;**高**: 7.0 ~ 8.9。|
||&emsp;**中**: 4.0 ~ 6.9。|
||&emsp;**低**: 0.1 ~ 3.9。|
||&emsp;**なし**: 0.0 |
|| **重要**: 新しい脆弱性を特定するプロセスは、定義した文書化された修正プログラム ウィンドウに沿った脆弱性の識別とパッチ適用を可能にするのに十分な堅牢性が必要です。 |
|**Patching**|&#x2713; 重大、高、中程度のリスクの問題は、問題を解決する必要がある最小期間を表す ISV によって決定された事前に決定された文書化された期間内に修正する必要があります。  パッチ適用ウィンドウは ISV で定義しますが、ウィンドウは妥当な時間枠内である必要があります。 たとえば、重大な脆弱性を修正する 3 か月は妥当ではなかからず、Microsoft 365 認定評価では拒否されます。|
||&#x2713;適用の実施方法を詳細に説明するポリシーと手順は、必ず実施する必要があります。環境内で使用される適用可能なすべてのオペレーティング システム、アプリケーション、およびソフトウェア コンポーネントを含める必要があります。 これには、アプリ/アドイン内で使用される Web 依存関係が含まれます。|
||&#x2713;ソフトウェア コンポーネントとオペレーティング システムがベンダーによってサポートされなくなった場合は、 **環境内で** 使用できません。 サポート ポリシーは、サポートされていないソフトウェア コンポーネント/オペレーティング システムが環境から削除され、ソフトウェア コンポーネントがいつ終了したのか確認するプロセスを確実に実行する必要があります。|
|**脆弱性スキャン**|脆弱性スキャンには、次のものが含まれる必要があります。|
||&#x2713;外部脆弱性スキャンは、スコープ内環境の完全なパブリック フットプリント(インフラストラクチャと Web アプリケーションのスキャンの URL と IP アドレス) に対して実行されます。|
||&#x2713;認証された内部脆弱性スキャンは、(PaaS ではなく) スコープ内のシステム コンポーネントに対して実行されます。|
||&#x2713; 定義された CVSS 推奨リスクランキング スコアに基づいて脆弱性を修正するタイムラインを詳細に説明することで、システム コンポーネントが既知の脆弱性から解放されるのを確認 **** するために、文書化された脆弱性修復ポリシーを適用する必要があります (上記を参照)。|
||&#x2713;継続的な再スキャンは、ISV の修復ポリシーで定義されている、特定されたリスクランクの脆弱性が必要なタイムライン内で修復されるまで実行する必要があります。  修復タイムラインは ISV で定義しますが、ウィンドウは妥当な時間枠内である必要があります。 たとえば、重大な脆弱性を修復する 3 か月は妥当ではなかからず、Microsoft 365 認定評価では拒否されます。|
|**ファイアウォール**|サポートインフラストラクチャには、次のようにファイアウォール (またはクラウド サービスが使用されている場合と同等) が構成されている必要があります。|
||&#x2713; **スコープ内** 環境を公開しているすべてのインターネット接続にインストールする必要があります。|
||&#x2713; **DMZ** (非武装地帯) と信頼できるネットワークの間にインストールする必要があります。|
||&#x2713;パブリック アクセスはすべて **DMZ** (非武装地帯) で終了する必要があります。 |
||&#x2713;環境にインストールする前に、既定の管理資格情報を変更する必要があります。|
||&#x2713; スコープ内ファイアウォールを通じて許可されるトラフィックはすべて (どちらの方向 **でも)** 承認プロセスを通過する必要があります。すべてのプロトコル、サービス、およびポートは、ビジネス上の正当な理由で文書化する必要があります。|
||&#x2713;ファイアウォール ルールは、文書化された許可ルールと一緒に構成する必要があります。|
||&#x2713;強力な暗号化は、付録 **B** に沿って、すべてのファイアウォール非コンソール管理インターフェイスで有効にする必要があります。|
||&#x2713;多要素認証 (MFA) **をファイアウォール** の管理アクセスに対して有効にする必要があります。|
||&#x2713;ファイアウォールのレビューは、 **少** なくとも 6 か月ごとに実施する必要があります。|
||認定分析では、外部サード パーティのデータ共有を検証するために、潜在的なサード パーティへの出力トラフィック フローの存在に関するファイアウォール ルールベースを確認します。  |
||**Web アプリケーション ファイアウォール (WAF)**。 WEB アプリケーションの脅威や脆弱性から保護するために WAF または同等の手段が展開されている場合、追加のクレジットが与えられる。 サポート ポリシーと手順が存在する場合は、 **次** の WAF 構成と共に適用する必要があります。 |
||&#x2713; WAF SHOULD は、アクティブな防御モード (識別された攻撃を自動的にブロックする) または監視モード (アラートのアクティブな監視/調査) で動作する必要があります。|
||&#x2713; SSL オフロードをサポートするように構成された [WAF](#ssl) を使用します。|
||&#x2713;の大部分から保護するために、WAF を [OWASP](#owasp) **コア** ルール セット   (3.0 または 3.1) に従って構成する必要があります。|
||&emsp;&#x25fc;エンコードの問題。|
||&emsp;&#x25fc;ヘッダーの挿入、要求の密輸、および応答の分割。|
||&emsp;&#x25fc;およびパスのトラバーサル攻撃。|
||&emsp;&#x25fc; (RFI) 攻撃を実行します。|
||&emsp;&#x25fc;コードの実行攻撃。|
||&emsp;&#x25fc;攻撃を実行します。|
||&emsp;&#x25fc;クロスサイト スクリプティング攻撃。|
||&emsp;&#x25fc; SQL攻撃。|
||&emsp;&#x25fc;セッション固定攻撃。|
|**変更コントロール**|環境のセキュリティ、安定性、および整合性の維持を目的とした方法で変更を実装するには、変更管理ポリシーと手順を適用する必要があります。 次の変更管理基準 **が必要** です。|
||&#x2713;の分離:開発環境とテスト **環境は、** 実稼働環境とは別にする必要があります。|
||&#x2713;環境からの機密 **データは、** 開発/テスト環境内で使用しないでください。|
||&#x2713;環境に導入する前に、テスト/開発環境内ですべての変更をテストする必要があります。|
||&#x2713;変更要求は **、実** 稼働に入る前に発生し、承認されます。|
||&#x2713;少なくとも、変更要求には次のものが **含まれる必要** があります。|
||&emsp;&#x25fc;影響のドキュメント。|
||&emsp;&#x25fc;ドキュメントのバックアウト手順。|
||&#x2713;変更要求は、**正常** に機能テストが実行された後にのみ、完了としてマークする必要があります。|
|**Secure Software Development/Deployment**|セキュリティは、アプリ/アドインにコーディングの脆弱性を導入し、安全な環境を維持し、データをセキュリティ保護するリスクを最小限に抑えるために、ソフトウェア開発プラクティスの最前線にいる必要があります。 次のソフトウェア開発のセキュリティで保護されたプラクティス **を実施** する必要があります。 |
||&#x2713;ソフトウェア開発ライフサイクル全体をカバーする、確立された文書化されたソフトウェア開発プロセスが必要です。|
||&#x2713;すべてのコード変更は、元の開発者以外のユーザーによるレビューと承認プロセスを通過する必要があります。|
||&#x2713;セキュリティで保護されたコーディングプラクティスとレビュー手法は[、OWASP Top 10](https://owasp.org/www-project-top-ten)または[SANS Top 25 CWE](https://www.sans.org/top25-software-errors)の脆弱性クラスに対処する必要があります。|
||&#x2713;開発者は、 **少** なくとも毎年安全なソフトウェア コーディング トレーニングを受ける必要があります。|
||&#x2713;リポジトリは **MFA** によってセキュリティ保護されている必要があります。|
||&#x2713;コード リポジトリを **悪意のあるコード** 変更から保護するには、適切なアクセス制御が必要です。|
||**注**: Microsoft は、製品 [内のセキュリティ](https://www.microsoft.com/en-us/securityengineering/sdl/) アシュアランスとコンプライアンス要件をサポートするために Microsoft が従うセキュリティ開発ライフサイクル (SDL) を公開しました。 SDL は、開発コストを削減しながら、ソフトウェアの脆弱性の数と重大度を減らすことで、開発者が安全なソフトウェアを構築するのに役立ちます。|
|**アカウントの管理**| スコープ内のシステム コンポーネント アカウント管理とサポート ポリシーと手順は、次の **要件を** 満たす必要があります。 |
||&#x2713;既定の資格情報 (ベンダーまたは ISV)は、スコープ内のすべてのシステム コンポーネントで無効または削除されます。|
||&#x2713;アカウントの作成、変更、削除は、 **確立** された承認プロセスを通過する必要があります。|
||&#x2713; 3 か月以上使用されていないアカウントは無効または削除する必要があります。そのため、ISV にはこれを実現するメカニズムが必要です。|
||&#x2713;強力なパスワード ポリシーまたは他の適切な軽減策は、 **ユーザー** 資格情報を保護するように構成する必要があります。 次のパスワード ポリシーをガイドラインとして使用する必要があります。|
||&emsp;&#x25fc; 8 文字の最小パスワード長|
||&emsp;&#x25fc; 10 回以下のアカウント ロックアウトしきい値|
||&emsp;&#x25fc; 5 つ以上のパスワードのパスワード履歴|
||&emsp;&#x25fc;強力なパスワードの使用の強制|
||&#x2713;一意のユーザー アカウントを各ユーザーに発行する必要があります。共有アカウントは使用されません。|
||&#x2713;最小特権の原則は、すべてのユーザーに適用する必要があります。これを実現するために使用されるメカニズムを文書化する必要があります (つまり、グループの使用)。 |
||&#x2713;適切なサービス アカウントの強化は、対話型ログオンの無効化、特定のホストに限定されたログオンなど、文書化および実行する必要があります。 |
||&#x2713; リモート アクセス ソリューションでは、次の操作を **実行する必要があります**。 |
||&emsp;&#x25fc; MFA を利用する (多要素認証)|
||&emsp;&#x25fc;付録 A の説明に従って、転送中のデータ構成プロファイルを満たすか超過している転送保護プロファイルのデータを使用する場合|
||&#x2713; パブリック DNS の管理がスコープ内環境の外部にある場合、DNS 変更を行えるすべてのユーザー アカウントを MFA を使用するように構成する必要があります。|
||**注** : クラウド管理ポータルでは、該当するアカウント管理要件を満たす必要があります。詳細については、「付録 F」を参照してください。|
|**侵入の検出と防止 (OPTIONAL)**| スコープ内のサポート環境の境界で IDPS (侵入検出および防止システム) が使用される場合は、追加のクレジットが与えられる。  推奨されるコントロールは次のとおりです。 |
||&#x2713; IDPS をサポート環境の境界に展開する必要があります。 |
||&#x2713; IDPS 署名は、過去 1 日以内に最新の状態に保つ必要があります。 |
||&#x2713; IDPS を TLS 検査用に構成する必要があります |
||&#x2713; IDPS は、すべての受信トラフィックと送信トラフィック用に構成する必要があります |
||&#x2713; IDPS をアラート用に構成する必要があります |
|**イベント ログ** |ログ記録 **範囲には、****マルウェア** 保護メカニズムを含む、スコープ内のすべてのシステム コンポーネントとアプリケーションが含まれる必要があります。 次のイベントを **ログに記録** する必要があります。|
||&emsp;&#x25fc; ユーザーがシステム コンポーネントとアプリケーションにアクセスする|
||&emsp;&#x25fc;特権の高いユーザーが実行したすべてのアクション|
||&emsp;&#x25fc;論理アクセスの試行が無効です|
||&emsp;&#x25fc;特権アカウントの作成/変更|
||&emsp;&#x25fc; イベント ログの改ざん|
||&emsp;&#x25fc; セキュリティ ツールの無効化。たとえば、マルウェア対策やイベント ログ|
||&emsp;&#x25fc;マルウェア対策ログ。たとえば、更新プログラム、マルウェア検出、スキャンエラー|
||&emsp;&#x25fc; IDPS/WAF イベント (構成されている場合)|
||イベント ログには **、次** の情報が含まれる必要があります。|
||&emsp;&#x25fc;ユーザー ID |
||&emsp;&#x25fc;イベントの種類 |
||&emsp;&#x25fc;日時 |
||&emsp;&#x25fc;/失敗インジケーター|
||&emsp;&#x25fc;影響を受けるシステムを識別するためのラベル |
||時間同期は **、すべての** スコープ内システム コンポーネントで使用して、捜査を支援する必要があります。|
||時刻同期は **、同** じプライマリ (および必要な場合はセカンダリ) タイム ソースを使用するように構成する必要があります|
||パブリック向けシステム (DMZ 内のシステム) **は、内部** 集中ログ リポジトリにログを書き込む必要があります。 集中ログ リポジトリは、DMZ 内に含めずに行う必要があります。|
||監査証 **跡をセキュリティ** で保護して、ログ データを脅威アクターによって変更できないことを確認する必要があります。 集中ログ リポジトリへのアクセスは、承認された担当者にのみ制限する必要があります。|
||ログ **は 30** 日間すぐに利用できる必要があります。 ログ データ **は** 最低 90 日間保持する必要があります。|
|**レビュー** |プロセスを確認し、ポリシーと手順をサポートするには、次 **の要件を** 満たす必要があります。|
||&#x2713; 毎日ログ レビューを実行するか、自動ログ分析とアラート テクノロジを使用して、スコープ内のすべてのシステム コンポーネントからのイベントを確認し、潜在的なセキュリティ イベントを特定します。|
||&#x2713;潜在的なセキュリティ イベント **は直** ちにフォローアップする必要があります。|
|**アラート** |アラート プロセスとサポート ポリシーと手順は、次の **要件を** 満たす必要があります。 |
||&#x2713;システム、操作、またはデータのセキュリティにリスクを与えるログに記録されたセキュリティ イベントは、(完全なリストではなく) 即時アラートをトリガーする必要があります。|
||&emsp;&#x25fc; Privilege アカウントの作成/変更|
||&emsp;&#x25fc; マルウェア イベント|
||&emsp;&#x25fc; セキュリティ ツールの無効化|
||&emsp;&#x25fc; イベント ログの改ざん|
||&emsp;&#x25fc; IDPS/WAF イベント (構成されている場合) |
||&#x2713;通知に対応するには、常に (24 時間 365 日) スタッフが利用できる必要があります。|
|**リスク管理**|リスク評価の手法は、以下を含む開発と実施が必要です。|
||&#x2713;定義されたプロセス。|
||&#x2713;少なくとも年に 1 回実行します。|
||&#x2713; スコープ内環境内のすべてのアセットを含めます。|
||&#x2713;含まれるすべてのアセットに対する脅威と脆弱性を識別します。|
||&#x2713; 定義済みの影響行列と尤度行列の使用が含まれます。|
||&#x2713; リスク レジスタと対応するリスク処理計画の作成結果。|
|**インシデント対応**|完全なインシデント対応計画 **は必須** であり、 **最低限以下** を含める必要があります。|
||&#x2713; スコープ内のシステム コンポーネントとアプリケーションの適用範囲は、少なくともです。|
||&#x2713;予期される脅威モデルに対する特定のインシデント対応手順。|
||&#x2713;文書化された通信プロセスを通して、すべての主要な関係者および関連する外部機関 (以下のように) の通知を適切に行います。支払いブランド/買収者、規制機関、監督当局[(GDPR)](#gdpr)は、義務付けされた報告要件に従って行います。|
||&#x2713;インシデント対応は、学習した教訓、組織の変更、および業界の開発を組み込む方法に基づいて更新されます。|
||&#x2713;インシデント対応チームのメンバーに対する年次トレーニング。|

## <a name="data-handling-security-and-privacy"></a>データ処理のセキュリティとプライバシー

アプリケーション ユーザー、仲介サービス、および ISV のシステム間の転送中のデータは、少なくとも TLS v1.1 をサポートする TLS 接続を介した暗号化によって保護される必要があります。*「付録* [**A」を参照してください**](#appendix-a)。

アプリケーションが M365 データを取得して格納する場合は、付録 B で定義されている仕様に従ったデータ ストレージ暗号化スキームを実装する [**必要があります**](#appendix-a)。

### <a name="test-specification"></a>テスト仕様

|テスト | コントロール |
| -----------------------|-------------------------------- |
|**転送中のデータ**| 機密データの送信では、付録 A で説明されているいくつかの例外を除き、少なくとも TLS 1.1 を使用する必要があります。|
||機密データの送信 **は、付録** B で説明されている暗号化プロファイルに従って適切に暗号化する必要があります。|
||TLS 圧縮を無効にする必要があります。|
||HSTS (HTTP Strict Transport Security) **は** 、15552000 = 15552000 >する必要があります。|
|**保存時のデータ**| 機密データストレージ **は、暗号化** 、アルゴリズム、キー サイズ、ハッシュ、メッセージ認証の最小要件をカバーする付録 B で説明されている暗号化プロファイルに従って保護する必要があります。|
||保存されているデータ型はすべて文書化する必要があります。|
|**データの保持と廃棄**|機密データストレージ **は、** 以下を最小限に抑えるデータ保持ポリシーと廃棄ポリシー、手順、およびプロセスを実装することで最小限に抑える必要があります。|
||&#x2713;データストレージの量と保持時間を、法的、規制、および/またはビジネス要件に必要なデータに制限します。|
||&#x2713;必要なくなったときに機密データを安全に削除するためのプロセスをドキュメント化して展開し、文書化されたポリシーと一緒に行います。|
||&#x2713;保存期間を超える保存済みの機密データを特定し、安全に削除するための四半期ごとにプロセスを文書化して展開します。|
|**データ アクセスの管理**|正当なビジネス上の理由を持つユーザーへのデータ アクセスを制限すると、組織は未経験または悪意によって機密データの誤った処理を防止できます。 アプリ/アドインによって受信され、暗号化キーにアクセスする機密データには、すべてのアクセス レベルの承認者がアクセスするために文書化された承認 (電子的または文書内) が必要であり、ポリシーを示す承認済みおよび検証済みの特権の一覧を含める必要があります。次のように、指定された要件が組み込まれます。 |
||&#x2713;特別にそのような特権アクセスを必要とする役割にのみアクセスニーズと特権の割り当てを定義します。 |
||&#x2713;ジョブの責任を実行するために必要な最小特権へのアクセスを制限する。|
||&#x2713; M365 データを使用しているすべてのサード パーティとデータ共有契約を締結します。|
|**GDPR**| Microsoft 365 認定プロセスの一環として、次のいずれかの方法で GDPR への準拠を実証する必要があります。|
||&#x2713;経験豊富な外部監査会社による GDPR 準拠の独立したレビューを提供する。 レビューのためにレポートを提出するか、アナリストにレポートの表示を許可する必要があります。 このレポートは、外部監査人の評価を検証するだけでなく、外部レビューが GDPR への準拠を確認したという十分な信頼を提供するのに十分な詳細を提供する必要があります。|
||または|
||&#x2713;データプライバシーに関する法律に関する追加の保証を提供するために、次の証拠を提出します。|
||&#x25fc;顧客の要求を満たし、GDPR の 30 日間の要件を満たしていることを目的として設計された、文書化されたサブジェクト アクセス要求 (SAR) プロセス。 これらのタイム フレーム内で SAR が満たされるのを確認するために、適切なデータ検出ツールを使用してください。 **注** : これらのツールを使用しない場合は、この動作を示し、プロセスがすべてのデータ主体の情報の検出を保証する方法を示す必要があります。|
||&#x25fc;プライバシーに関する通知は、Web サイトに存在し、次の情報を含む必要があります。
||
||独立した GDPR レポートを使用できない場合は、M365 認定評価の一環として次の情報を確認する必要があります。 |
||&#x2713;顧客の要求を満たし、GDPR の 30 日間の要件を満たしていることを目的として設計された、文書化されたサブジェクト アクセス要求 (SAR) プロセス。  これらのツールを使用しないこれらのタイム フレーム内で SAR が満たされるのを確認するには、適切なデータ検出ツールを使用して、この動作を示し、プロセスがすべてのデータ主体の情報の検出を保証する方法を示す必要があります。|
||&#x2713;プライバシーに関する通知は、Web サイトに存在し、次の情報を含む必要があります。|
||&emsp;&emsp;&#x25a1;組織の連絡先の詳細。|
||&emsp;&emsp;&#x25a1;処理される個人データの種類。|
||&emsp;&emsp;&#x25a1;個人データの処理の合法性 (*第 6 条*)。|
||&emsp;&emsp;&#x25a1; データ主体の権利の詳細:|
||&emsp;&emsp;&#x25a1;通知を受け取る権利 (*記事 13 および 14)。*
||&emsp;&emsp;&#x25a1;データ主体によるアクセス権 (*第 15 条*)。|
||&emsp;&emsp;&#x25a1;の権利 (*第 16 条*)。|
||&emsp;&emsp;&#x25a1;削除する権利 (*第 17 条*)。|
||&emsp;&emsp;&#x25a1;の制限に対する権利 (*第 18 条*)。|
||&emsp;&emsp;&#x25a1;データの移植性に対する権利 (*第 20 条*)。|
||&emsp;&emsp;&#x25a1;オブジェクトに対する権利 (*第 21 条*)。|
||&emsp;&emsp;&#x25a1;を含む、自動意思決定マーキングに関する権利 (*第 22* 条)。|
||&#x2713;第三者との情報共有は、データ主体のデータの処理がデータプライバシー法に準拠しているか確認するための契約を締結している必要があります。|

## <a name="optional-external-compliance-frameworks-review"></a>オプションの外部コンプライアンス フレームワーク レビュー

外部のセキュリティ フレームワークが Publisher 構成証明に含まれている場合、認定アナリストは、Microsoft 365 認定評価の一環として、これらのセキュリティ コンプライアンス フレームワークの有効性を確認する必要があります。
次のサポートされる外部セキュリティ コンプライアンス フレームワークの証拠には、次のものが含まれます。

* [ISMS](#isms) / [IEC](#iec) - IS0/IEC 27001 仕様</h5>
* [PCI DSS](#pci-dss)
* [SOC 2](#soc-2)

[コンプライアンスの証拠] セクション [で特定された](#compliance-evidence) ドキュメントは、このレビューを実行するために使用されます。

### <a name="test-specifications"></a>テスト仕様

&#x2713; App/Add-in サポート環境とサポートされるビジネス プロセスは、サポートされている外部セキュリティ コンプライアンス フレームワークの範囲内に含める必要があります。また、付属のドキュメントに明確に示す必要があります。

&#x2713;サポートされる外部セキュリティ コンプライアンス フレームワークは、過去 12 か月以内 (再評価が現在実施され、証拠を提供できる場合は 15 か月以内) に最新である必要があります。

&#x2713;サポートされる外部セキュリティ コンプライアンス フレームワークは、 **独立した認定** 企業が実行する必要があります。

## <a name="appendix-a"></a>付録 A

### <a name="tls-profile-configuration-requirements"></a>TLS プロファイル構成要件

仮想ネットワーク、クラウド サービス、またはデータ センター内のすべてのネットワーク トラフィックは、少なくとも TLS v1.1 (TLS v1.2 以上を推奨) または他の適用可能なプロトコルで保護する必要があります。 この要件の例外は次のとおりです。

* **HTTP から HTTPS へのリダイレクト**。 アプリは HTTP 経由で応答してクライアントを HTTPS にリダイレクトできますが、応答に機密データ (Cookie、ヘッダー、コンテンツ) が含まれている必要はありません。 HTTPS へのリダイレクトと正常性プローブへの応答以外の HTTP 応答は許可されません。 以下を参照してください。
* **正常性プローブ**。 アプリは **、HTTPS** 正常性プローブがチェック パーティでサポートされていない場合にのみ、HTTP 経由で正常性プローブに応答できます。
* **証明書へのアクセス**。 証明書の検証および失効チェックの目的で CRL、OCSP、および AIA エンドポイントへのアクセスは、HTTP を使用して許可されます。
* **ローカル通信**。 アプリは、オペレーティング システムから離れない通信に HTTP (または他の保護されていないプロトコル) を使用できます。 g. localhost で公開されている Web サーバー エンドポイントへの接続。

TLS 圧縮 **を無効** にする必要があります。

## <a name="appendix-b"></a>付録 B

### <a name="encryption-profile-configuration-requirements"></a>暗号化プロファイルの構成要件

暗号化プリミティブとパラメーターだけが次のように許可されます。

### <a name="symmetric-cryptography"></a>対称暗号化

**暗号化**

&emsp;&#x2713; AES、BitLocker、Blowfish、TDES のみを使用できます。 サポートされているキーの長さ >=128 は使用できます (128 ビット、192 ビット、256 ビット)、使用できます (256 ビットキーを推奨)。

&emsp;&#x2713; CBC モードのみ許可されます。 すべての暗号化操作では、ランダムに生成された新しい初期化ベクトル (IV) を使用する必要があります。

&emsp;&#x2713; RC4 などのストリーム暗号の使用 **は許可** されません。

**ハッシュ関数**

&emsp;&#x2713; すべての新しいコードでは、SHA-256、SHA-384、または SHA-512 (総称して SHA-2 と呼ばれます) を使用する必要があります。 出力は 128 ビット未満に切り詰められることがあります

&emsp;&#x2713; SHA-1 は、互換性上の理由でのみ使用できます。

&emsp;&#x2713;暗号化以外のアプリケーションでも、MD5、MD4、MD2、その他のハッシュ関数の使用は許可されません。

**メッセージ認証**

&emsp;&#x2713;すべての新しいコードでは、承認されたハッシュ関数の 1 つで HMAC を使用する必要があります。 HMAC の出力は、128 ビット以下に切り詰められることがあります。

&emsp;&#x2713; HMAC-SHA1 は、互換性上の理由でのみ使用できます。

&emsp;&#x2713; HMAC キーは 128 ビット以上である必要があります。 256 ビット キーをお勧めします。

### <a name="asymmetric-algorithms"></a>非対称アルゴリズム

**暗号化**

&emsp;&#x2713; RSA を使用できます。 キー **は少** なくとも 2048 ビットである必要があります。また、OAEP パディングを使用する必要があります。 PKCS パディングの使用は、互換性上の理由でのみ許可されます。

**Signatures**

&emsp;&#x2713; RSA を使用できます。 キー **は** 2048 ビット以上である必要があります。PSS パディングを使用する必要があります。 PKCS パディングの使用は、互換性上の理由でのみ許可されます。

&emsp;&#x2713;ECDSA を使用できます。 キー **は** 256 ビット以上である必要があります。 NIST P-256、P-384、または P-521 曲線を使用する必要があります。

**Key Exchange**

&emsp;&#x2713; ECDH を使用できます。 キー **は** 256 ビット以上である必要があります。 NIST P-256、P-384、または P-521 曲線を使用する必要があります。

&emsp;&#x2713; ECDH を使用できます。 キー **は** 256 ビット以上である必要があります。 NIST P-256、P-384、または P-521 曲線を使用する必要があります。

## <a name="appendix-c"></a>付録 C

### <a name="evidence-collection--delta-for-iso-27001"></a>Evidence Collection – ISO 27001 のデルタ

ISO27001 準拠を既に達成している場合、ISO 27001 で完全にカバーされていない次のデルタ (ギャップ) は、少なくともこの Microsoft 365 認定の一部として確認する必要があります。

> [!NOTE]
> Microsoft 365 認定評価の一環として、認定アナリストは、マッピングされた ISO 27001 コントロールが ISO 27001 評価の一部として含まれていないかどうかを判断し、さらなる保証を提供するために含まれると判明したコントロールのサンプルを決定する場合があります。 ISO 27001 に含まれていない要件は、Microsoft 365 認定評価アクティビティに含める必要があります。

**マルウェア保護 – ウイルス対策**

アプリケーション制御を使用してマルウェア保護が実行され、ISO 27001 レポート内で証明されている場合は、それ以上の調査は必要ありません。 アプリケーション制御が行えない場合、認定アナリストは、環境内のマルウェアの発起を防止するために、アプリケーション制御メカニズムの証拠を特定して評価する必要があります。 これには、次の操作が必要です。

* ウイルス対策ソフトウェアが、サンプリングされたシステム コンポーネント全体で実行されている状態を示します。

* マルウェアを自動的にブロックしたり、アラートを検疫したり、警告を表示したりするために、すべてのサンプリングされたシステム コンポーネントでウイルス対策が&示します。

* ウイルス対策ソフトウェアは、 **すべての** アクティビティをログに記録するように構成する必要があります。

**パッチ管理 - パッチ適用**

ISO 27001 の監査では、このカテゴリは特に評価されないので、次の操作が必要です。

* ベンダーによってサポートされなくなったソフトウェア コンポーネントとオペレーティング システムは、 **環境内で** 使用できません。 サポートポリシーは、サポートされていないソフトウェア コンポーネント/オペレーティング システムが環境から削除され、ソフトウェア コンポーネントがいつ終了したのか確認するプロセスを確実に実行する必要があります。

**脆弱性スキャン**  

ISO 27001 の監査では、このカテゴリは特に評価されないので、次の操作が必要です。

* 四半期ごとに内部および外部の脆弱性スキャンが実行されるのを実証します。

* リスクランキングに基づく脆弱性の修復に関するサポート ドキュメントが、次の仕様に従って実施されているのを確認します。
 
 &#x2713;内部スキャンのリスクランク付けと一緒に、すべての重大リスクと高リスクのリスクの問題を修正します。
 
 &#x2713;外部スキャンのリスクランキングと一緒に、重大、高、中程度のリスクの問題を修正します。
 
 &#x2713;文書化された脆弱性修復ポリシーと一緒に修復が行われた場合を示します。

**ファイアウォール – ファイアウォール (または同等のテクノロジ)**

ISO 27001 の監査では、このカテゴリは特に評価されないので、次の操作が必要です。

* スコープ内環境の境界にファイアウォールがインストールされていることを示します。

* DMZ と信頼できるネットワークの間にファイアウォールがインストールされていることを示します。

*   すべてのパブリック アクセスが DMZ で終了する方法を示します。

*   ライブ環境にインストールする前に、既定の管理資格情報が変更されたと示します。

*   ファイアウォール経由のすべての許可トラフィックが承認プロセスを通過し、ビジネス上の正当性を持つすべてのトラフィックのドキュメントが作成されます。

*   すべてのファイアウォールが明示的に定義されていないトラフィックをドロップするように構成されていることを示します。

*   ファイアウォールがコンソール以外のすべての管理インターフェイスで強力な暗号化のみをサポートしている場合を示します。

*   インターネットに公開されているファイアウォールのコンソール以外の管理インターフェイスが MFA をサポートしているのを実証します。

*   ファイアウォール ルールのレビューが少なくとも 6 か月ごとに実施されるという実証

**ファイアウォール – Web アプリケーション ファイアウォール (WAF)**  

WAF が展開され、アプリケーションが公開される可能性のある無数の Web アプリケーションの脅威や脆弱性から保護するために追加のクレジットが提供されます。 WAF または類似の WAF が存在する場合、次の操作が必要です。

* WAF がアクティブな防御モードで構成されていることを確認するか、アラートを使用して監視を行います。

* WAF が SSL オフロードをサポートするように構成されていることを示します。

* 次の攻撃の種類のほとんどから保護するために、OWASP コア ルール セット (3.0 または 3.1) に従って構成されます。

&#x2713;エンコードの問題。

&#x2713;ヘッダーの挿入、要求の密輸、および応答の分割。

&#x2713;およびパスのトラバーサル攻撃。

&#x2713; (RFI) 攻撃を実行します。

&#x2713;コード実行攻撃を実行します。

&#x2713; PHP インジェクション攻撃。

&#x2713;クロスサイト スクリプティング攻撃。

&#x2713; SQL攻撃。

&#x2713;セッション固定攻撃。

**変更コントロール**

ISO 27001 の監査では、変更要求プロセスの一部の要素が特に評価されないので、次の操作を行う必要があります。

* 変更要求に次の詳細が含まれます。

&#x2713;ドキュメントへの影響。

&#x2713;機能テストを実施する詳細。

&#x2713;バックアウト手順の詳細。

* 変更が完了した後に機能テストが実行されるのを実証します。

* 機能テストの実施後に変更要求がサインオフされるのを実証します。

**アカウントの管理**

ISO 27001 監査では、アカウント管理プロセスの一部の要素を具体的に評価していないので、次の操作が必要になります。

*   再生攻撃&#x2713;(MFA、Kerberos など) を軽減する方法を示します。
*   3 か月で使用されていないアカウントを無効または削除する方法を示します。
*   &#x2713;または他の適切な軽減策は、ユーザー資格情報を保護するように構成する必要があります。 ガイドラインとして、次の最小パスワード ポリシーを使用する必要があります。

&#x2713;パスワードの最小長は 8 文字です。

&#x2713; 10 回以下のアカウント ロックアウトしきい値。
 
&#x2713; 5 つ以上のパスワード履歴。
 
&#x2713;強力なパスワードの使用の強制。
 
*   MFA がすべてのリモート アクセス ソリューションに対して構成されていることを示します。

*   すべてのリモート アクセス ソリューションで強力な暗号化が構成されていることを実証します。

*   パブリック DNS の管理がスコープ内環境の外部にある場合は、DNS 変更を行えるすべてのユーザー アカウントを MFA を使用するように構成する必要があります。

**侵入の検出と防止 (OPTIONAL)**

ISO 27001 の監査では、侵入検知および防止サービス (IDPS) プロセスの一部の要素が特に評価されないので、次の操作を行う必要があります。

*   IDPS **は、** サポート環境の境界に展開する必要があります。

*   IDPS 署名は **、過去** 1 日以内に最新の状態に保つ必要があります。

*   IDPS **は TLS** 検査用に構成する必要があります。

*   IDPS **は、** すべての受信トラフィックと送信トラフィック用に構成する必要があります。

*   IDPS **はアラート** 用に構成する必要があります。

**イベント ログ**

ISO 27001 監査では、セキュリティ イベント ログ プロセスの一部の要素が特に評価されないので、次の操作を行う必要があります。

* 一般向けシステムが、DMZ 内にはない集中ログ ソリューションにログを記録しているのを示します。

* 最低 30 日分のログ データがすぐに利用できる方法を示し、90 日間は保持されます。

**レビュー (ログ データ)**

ISO 27001 の監査では、このカテゴリの一部の要素が特に評価されないので、次の操作を行う必要があります。

*   毎日のログ レビューの実施方法と、例外と異常がどのように処理されるのかについて説明します。

**アラート**

ISO 27001 の監査では、このカテゴリの一部の要素が特に評価されないので、次の操作を行う必要があります。

* セキュリティ イベントが即時トリアージのアラートをトリガーするように構成される方法を示します。

* スタッフが 24 時間 365 日セキュリティアラートに対応する方法を示します。

**リスク管理**

ISO 27001 監査では、リスク評価プロセスの一部の要素を具体的に評価していないので、次の操作を行う必要があります。

* 正式なリスク管理プロセスが確立されたと実証します。

**インシデント対応**

ISO 27001 監査ではインシデント対応ポリシーとプロセスの一部の要素が特に評価されないので、次の操作を行う必要があります。

*   インシデント対応計画/手順に次の内容が含まれる場合を示します。

&#x2713;脅威モデルの具体的な対応手順を説明します。

&#x2713; NIST サイバーセキュリティ フレームワークに対応するインシデント処理機能 (識別、保護、検出、応答、回復)。
 
&#x2713; IRP はスコープ内システムをカバーします。
 
&#x2713;インシデント対応チームの年次トレーニング。

## <a name="appendix-d"></a>付録 D

### <a name="evidence-collection--deltas-for-pci-dss"></a>Evidence Collection – PCI DSS のデルタ

PCI DSS コンプライアンスを既に達成している場合、PCI DSS で完全にカバーされていない次のデルタ (ギャップ) は、少なくともこの Microsoft 365 認定の一部として確認する必要があります。

> [!NOTE]
> Microsoft 365 認定評価の一環として、認定アナリストは、マップされた PCI DSS コントロールが PCI DSS 評価の一部として含まれていないかどうかを判断し、さらに保証するために含まれていると判明したコントロールのサンプルを決定する場合があります。 PCI DSS に含まれていない要件は、Microsoft 365 認定評価アクティビティに含める必要があります。

**マルウェア保護 - アプリケーション制御**

ウイルス対策を使用してマルウェア保護を行い、PCI DSS レポート内で証明されている場合は、それ以上の調査は必要ありません。 ウイルス対策が実施されなき場合、認定アナリストは、環境内のマルウェアの起毒を防止するために、アプリケーション制御メカニズムの証拠を特定して評価する必要があります。 これには、次の操作が必要です。 

*   アプリケーションの承認の実施方法を示し、これが完了したと確認します。

*   ビジネス上の正当性を持つ承認済みアプリケーションの完全なリストが存在することを実証します。

*   サポート ドキュメントの提供またはデモンストレーションは、特定のアプリケーション制御メカニズム (ホワイトリスト登録、コード署名など) を満たすためにアプリケーション制御ソフトウェアがどのように構成されるのかについて詳しく説明します。

*   サンプリングされたシステム コンポーネント全体で、アプリケーションコントロールが文書化済みとして構成されていることを示します。

**パッチ管理 - リスクランキング**

PCI DSS 監査では特にこのカテゴリが評価されないので、次の操作が必要です。

* 脆弱性のリスクランク付けを実行する方法を示します。

**脆弱性スキャン**

PCI DSS 監査では特にこのカテゴリが評価されないので、次の操作が必要です。

* 文書化された脆弱性修復ポリシーと一緒に修復が行われるのを実証します。

**ファイアウォール – ファイアウォール (または同等のテクノロジ)**

PCI DSS 監査では特にこのカテゴリが評価されないので、次の操作が必要です。

* ファイアウォールがコンソール以外のすべての管理インターフェイスで強力な暗号化のみをサポートしている場合を示します。

* インターネットに公開されているファイアウォールのコンソール以外の管理インターフェイスが MFA をサポートしているのを実証します。

Web アプリケーションファイアウォール (WAF) が、アプリケーションが公開できる無数の Web アプリケーションの脅威や脆弱性から保護するために展開された場合、追加のクレジットが提供されます。 WAF または類似の WAF が存在する場合、次の操作が必要です。

* WAF がアクティブな防御モードで構成されていることを確認するか、アラートを使用して監視を行います。

* WAF が SSL オフロードをサポートするように構成されていることを示します。

* 次の攻撃の種類のほとんどから保護するために、OWASP コア ルール セット (3.0 または 3.1) に従って構成されます。

&#x2713;エンコードの問題。

&#x2713;ヘッダーの挿入、要求の密輸、および応答の分割。

&#x2713;およびパスのトラバーサル攻撃。

&#x2713; (RFI) 攻撃を実行します。

&#x2713;コード実行攻撃を実行します。

&#x2713; PHP インジェクション攻撃。

&#x2713;クロスサイト スクリプティング攻撃。

&#x2713; SQL攻撃。

&#x2713;セッション固定攻撃。

**変更コントロール**

PCI DSS 監査では、変更要求プロセスの一部の要素が特に評価されないので、次の操作を行う必要があります。

* 実稼働環境で行う前に変更要求が発生する方法を示します。

* 変更が実稼働に入る前に承認されているのを実証します。

* 変更が完了した後に機能テストが実行されるのを実証します。

* 機能テストの実施後に変更要求がサインオフされるのを実証します。

**Secure Software Development/Deployment**

PCI DSS 監査では、セキュリティで保護されたソフトウェア開発および展開プロセスの一部の要素に特にアクセスしなこれには、次の操作が必要です。

* コード リポジトリは MFA によってセキュリティ保護されている必要があります。

*   コード リポジトリを悪意のあるコード変更から保護するには、適切なアクセス制御が必要です。

**アカウントの管理**

PCI DSS 監査では、アカウント管理プロセスの一部の要素が特に評価されないので、次の操作を行う必要があります。

* 再生攻撃 (MFA、Kerberos など) を軽減するために承認メカニズムがどのように実装されるのかについて説明します。

* ユーザー資格情報を保護するには、強力なパスワード ポリシーまたは他の適切な軽減策を構成する必要があります。 ガイドラインとして、次の最小パスワード ポリシーを使用する必要があります。 

&#x2713;パスワードの最小長は 8 文字です。

&#x2713; 10 回以下のアカウント ロックアウトしきい値。

&#x2713; 5 つ以上のパスワード履歴。

&#x2713;強力なパスワードの使用の強制。

* すべてのリモート アクセス ソリューションで強力な暗号化が構成されていることを実証します。

* パブリック DNS の管理がスコープ内環境の外部にある場合は、DNS 変更を行えるすべてのユーザー アカウントを MFA を使用するように構成する必要があります。

**侵入の検出と防止 (OPTIONAL)**

PCI DSS 監査では、侵入検出および防止サービス (IDPS) プロセスの一部の要素を特に評価していないので、次の操作を行う必要があります。

* IDPS は TLS 検査用に構成する必要があります。

*   IDPS は、すべての受信トラフィックと送信トラフィック用に構成する必要があります。

**リスク管理**

PCI DSS 監査では、リスク評価プロセスの一部の要素を具体的に評価していないので、次の操作を行う必要があります。

* リスク評価に影響と可能性のマトリックスを示します。

**インシデント対応**

PCI DSS 監査では、インシデント対応ポリシーとプロセスの一部の要素を特に評価していないので、開発者は次の操作を行う必要があります。

* インシデント処理機能が NIST サイバーセキュリティ フレームワーク (IDENTIFY、Protect、Detect、Respond、Recover) に対応する方法を示します。

## <a name="appendix-e"></a>付録 E

### <a name="evidence-collection---deltas-for-soc-2"></a>Evidence コレクション - SOC 2 のデルタ

SOC 2 コンプライアンスを既に達成している場合、SOC 2 で完全にカバーされていない次のデルタ (ギャップ) は、この Microsoft 365 認定の一部として確認する必要があります。

> [!NOTE]
> Microsoft 365 認定評価の一環として、認定アナリストは、マップされた SOC 2 コントロールが SOC 2 評価の一部として含まれていないかどうかを判断し、さらに保証を提供するために含まれると判明したコントロールのサンプルを決定する場合があります。 SOC 2 の評価に欠けている要件は、Microsoft 365 認定評価アクティビティの一部として含める必要があります。

**マルウェア保護 - アプリケーション制御**

ウイルス対策を使用してマルウェア保護が実行され、SOC 2 レポート内で証明されている場合は、それ以上の調査は必要ありません。 ウイルス対策が実施されなき場合、認定アナリストは、環境内のマルウェアの起毒を防止するために、アプリケーション制御メカニズムの証拠を特定して評価する必要があります。 これには、次の操作が必要です。

* サポート ドキュメントの提供またはデモンストレーションは、特定のアプリケーション制御メカニズム (ホワイトリスト登録、コード署名など) を満たすためにアプリケーション制御ソフトウェアがどのように構成されるのかについて詳しく説明します。

* アプリケーションの承認の実施方法を示し、これが完了したと確認します。

*   ビジネス上の正当性を持つ承認済みアプリケーションの完全なリストが存在することを実証します。

*   サンプリングされたシステム コンポーネント全体で、アプリケーションコントロールが文書化済みとして構成されていることを示します。

**パッチ管理 - パッチ適用**

SOC 2 監査では、このカテゴリを具体的に評価していないので、次の操作が必要です。

*   Low、Medium、High、または Critical の問題は、通常のパッチ適用アクティビティ ウィンドウ内で修正する必要があります。

*   ベンダーによってサポートされなくなったソフトウェア コンポーネントとオペレーティング システムは、環境内で使用できません。 サポート ポリシーは、サポートされていないソフトウェア コンポーネント/オペレーティング システムが環境から削除され、ソフトウェア コンポーネントがいつ終了したのか確認するプロセスを確実に実行する必要があります。

**ファイアウォール – ファイアウォール**

SOC 2 監査では、ファイアウォール アクセス制御リストに対する変更制御を特に評価していないので、次の操作が必要です。

* ファイアウォール経由のすべての許可トラフィックが承認プロセスを通過し、ビジネス上の正当性を持つすべてのトラフィックのドキュメントが作成されます。

* ファイアウォール ルールのレビューが少なくとも 6 か月ごとに実施されるのを実証します。

Web アプリケーション ファイアウォール (WAF) または類似のアプリケーションが展開され、アプリケーションが公開される可能性のある無数の Web アプリケーションの脅威や脆弱性から保護するために追加のクレジットが提供されます。 WAF または類似の WAF が存在する場合、次の操作が必要です。

* WAF がアクティブな防御モードで構成されていることを確認するか、アラートを使用して監視を行います。

* WAF が SSL オフロードをサポートするように構成されていることを示します。

* OWASP コア ルール セット ((3.0 または 3.1) に従って構成され、次の攻撃の種類の大部分から保護されます。

&emsp;&#x2713;エンコードの問題。

&emsp;&#x2713;ヘッダーの挿入、要求の密輸、および応答の分割。

&emsp;&#x2713;およびパスのトラバーサル攻撃。

&emsp;&#x2713; (RFI) 攻撃を実行します。

&emsp;&#x2713;コードの実行攻撃。

&emsp;&#x2713;攻撃を実行します。

&emsp;&#x2713;クロスサイト スクリプティング攻撃。

&emsp;&#x2713; SQL攻撃。

&emsp;&#x2713;セッション固定攻撃。

**変更コントロール**

SOC 2 監査では、変更要求プロセスの一部の要素を具体的に評価しないので、開発者は次の操作を行う必要があります。

* 開発/テスト環境が、義務の分離を実施する実稼働環境からどのように分離されているのか示します。

* 開発/テスト環境内でライブ データが使用されていない方法を示します。

* 変更が完了した後に機能テストが実行されるのを実証します。

* 機能テストの実施後に変更要求がサインオフされるのを実証します。

**Secure Software Development/Deployment**

SOC 2 監査では、セキュリティで保護されたソフトウェア開発および展開プロセスの一部の要素に特にアクセスする必要がなこれには、次の操作が必要です。

*   ソフトウェア開発ライフサイクル全体をカバーする、確立された文書化されたソフトウェア開発プロセスが必要です。

*   開発者は、少なくとも毎年、セキュリティで保護されたソフトウェア コーディング トレーニングを受ける必要があります。

*   コード リポジトリは MFA によってセキュリティ保護されている必要があります。

*   コード リポジトリを悪意のあるコード変更から保護するには、適切なアクセス制御が必要です。

**アカウントの管理**

SOC2 監査では、アカウント管理プロセスの一部の要素が特に評価されないので、次の操作を行う必要があります。

*   再生攻撃 (MFA、Kerberos など) を軽減するために承認メカニズムがどのように実装されるのかについて説明します。

*   3 か月で使用されていないアカウントを無効または削除する方法を示します。

*   ユーザー資格情報を保護するには、強力なパスワード ポリシーまたは他の適切な軽減策を構成する必要があります。 ガイドラインとして、次の最小パスワード ポリシーを使用する必要があります。

&emsp;&#x2713; パスワードの最小長は 8 文字です。

&emsp;&#x2713; 10 回以下のアカウント ロックアウトしきい値。

&emsp;&#x2713; 5 つ以上のパスワード履歴。

&emsp;&#x2713;強力なパスワードの使用の強制

*   一意のユーザー アカウントがすべてのユーザーに発行されるのを示します。

*   パブリック DNS の管理がスコープ内環境の外部にある場合は、DNS 変更を行えるすべてのユーザー アカウントを MFA を使用するように構成する必要があります。

**侵入の検出と防止 (OPTIONAL)。**

SOC 2 監査では、侵入検出および防止サービス (IDPS) プロセスの一部の要素を具体的に評価していないので、次の操作を行う必要があります。

*   IDPS 署名は、過去 1 日以内に最新の状態に保つ必要があります

*   IDPS は TLS 検査用に構成する必要があります

*   IDPS は、すべての受信トラフィックと送信トラフィック用に構成する必要があります。

**イベント ログ**

SOC 2 の監査では、セキュリティ イベント ログ プロセスの一部の要素が特に評価されないので、次の操作を行う必要があります。

* サンプル セット内のすべてのシステム コンポーネントで、次のイベントをログに記録するように次のシステムを構成する方法を示します。

&emsp;&#x2713;システム コンポーネントとアプリケーションへのユーザー アクセス。

&emsp;&#x2713;特権の高いユーザーが実行したすべてのアクションを指定します。

&emsp;&#x2713;論理アクセスの試行が無効です。

ログに記録されたイベントに含まれるイベントを示します。少なくとも、次の情報は次のとおりです。

&emsp;&#x2713;ユーザー。

&emsp;&#x2713;の種類。

&emsp;&#x2713;と時刻を指定します。

&emsp;&#x2713;/失敗インジケーター。

&emsp;&#x2713;ラベルを使用して、影響を受けるシステムを識別します。

*   サンプル セット内のすべてのシステム コンポーネントが時間同期を利用するように構成され、これらはプライマリ/セカンダリ タイム サーバーと同じことを実証します。

* 一般向けシステムが、DMZ 内にはない集中ログ ソリューションにログを記録しているのを示します。

*   一般向けシステムが、DMZ 内にはない集中ログ ソリューションにログを記録しているのを示します。

* ログ データの不正な改ざんから集中ログ ソリューションがどのように保護されるのかについて説明します。

* 少なくとも 30 日分のログ データがすぐに利用できる方法を示し、90 日以上が保持されます。

**リスク管理**

SOC2 監査では、リスク評価プロセスの一部の要素を具体的に評価していないので、次の操作を行う必要があります。

* 少なくとも年に一度は正式なリスク評価が実施されるのを実証します。

*インシデント対応。*

SOC2 監査ではインシデント対応ポリシーとプロセスの一部の要素を具体的に評価していないので、次の操作が必要になります。

* インシデント対応計画/手順に次の内容が含まれる場合を示します。

&emsp;&#x2713;予想される脅威モデルに対する具体的な対応手順について説明します。

&emsp;&#x2713;主要な利害関係者 (支払いブランド/買収者、規制機関、監督当局、ディレクター、顧客など) の適時通知を確保するための文書化された通信プロセス。

## <a name="appendix-f"></a>付録 F

### <a name="hosting-deployment-types"></a>ホスティング展開の種類

Microsoft は、アプリケーションを展開し、異なるホスティング環境内にアプリ/アドイン コードを格納します。 Microsoft 365 認定内の一部のセキュリティ制御の全体的な責任は、使用するホスティング環境によって異なります。 付録 F は、一般的な展開の種類を確認し、これらを評価プロセスの一部として評価されるセキュリティ コントロールにマップします。 次のホスティング展開の種類が識別されています。

|  |  |
|-----|------|
|**ISV Hosted**|ISV ホスト型は、アプリ/アドイン環境をサポートするために使用されるインフラストラクチャの責任者として定義できます。 これは、独自のデータ センターまたは共同場所サービスを備えたサード パーティのデータ センター内に物理的に位置できます。 最終的には、サポートするインフラストラクチャと運用環境に対する完全な所有権と管理制御が行えます。|
|**サービスとしてのインフラストラクチャ (IaaS)** (https://azure.microsoft.com/en-gb/overview/what-is-iaas/)|サービスとしてのインフラストラクチャは、物理的なサポート インフラストラクチャがクラウド サービス プロバイダー (CSP) によって管理および保守されるサービスです。 通常、ネットワーク、ストレージ、物理サーバー、仮想化インフラストラクチャはすべて CSP の責任です。 オペレーティング システム、ミドルウェア、ランタイム、データ、およびアプリケーションは、お客様の責任です。 また、ファイアウォール機能はサードパーティによって管理および維持されます。ただし、ファイアウォールルールベースのメンテナンスは通常、消費者の責任です。|
|**サービスとしてのプラットフォーム/サーバーレス (PaaS)** (https://azure.microsoft.com/en-gb/overview/what-is-paas/)| サービスとしてのプラットフォームでは、使用できるサービスを提示する管理プラットフォームを使用してプロビジョニングされます。 オペレーティング システムとサポート インフラストラクチャは CSP によって管理されるので、sysadmin 関数を実行する必要はない。 これは通常、組織が Web サービスの提示に関心を持ちたくない場合に使用され、代わりに Web アプリケーションのソース コードの作成とクラウド管理 Web サービスでの Web アプリケーションの発行に集中できます。  もう 1 つの例は、データベースに接続が与えられるデータベース サービスですが、サポート インフラストラクチャとデータベース アプリケーションはコンシューマーから抽象化されます。   **注: サーバーレスと PaaS は似ているので、Microsoft 365 認定ホスティング展開の種類のサーバーレスと PasS は同じと見なされます**|
|**ハイブリッド ホスト**|ハイブリッド ホスト型を使用すると、複数のホスト型を使用して、サポート環境のさまざまな部分をサポートできます。 これは、複数の M365 スタックでアプリ/アドインが利用される場合が多い場合があります。 Microsoft 365 認定は、複数の M365 サービス間でアプリ/アドオンが開発される場所をサポートしますが、サポート環境全体 (アプリ/アドイン全体) の評価は、該当する各 "ホスト型マッピング" に従って評価する必要があります。 場合によっては、1 つのアドインに異なるホスト型を使用する場合があります。この処理が実行されている場合、条件の適用性は、さまざまなホスト型全体で "ホスト型マッピング" 条件に従う必要があります。|
|**共有ホスティング**|共有ホスティングは、複数の個々のコンシューマーが共有するプラットフォーム内で環境をホストする場所です。 Microsoft 365 認定仕様は、クラウドの導入によりこれを考慮して記述されていないので、共有ホスティングは一般的ではありません。 これが使用されると思われる場合は、この種類のホスティングの下で追加のリスクを考慮するために追加の要件を作成する必要がある場合は、Microsoft にお問い合わせください。|


## <a name="appendix-g"></a>付録 G

### <a name="microsoft-365-certification-process-workflow"></a>Microsoft 365 認定プロセスのワークフロー

![ワークフロー](ProcessFlow.jpg)

## <a name="learn-more"></a>詳細情報

[Microsoft 365 アプリ コンプライアンス プログラムの概要](~/overview.md)  
[Microsoft 365 App Publisher 構成証明とは](~/docs/attestation.md)  
[Microsoft 365 認定とは](~/docs/enterprise-app-certification-guide.md)

## <a name="glossary"></a>用語集

### <a name="aia"></a>AIA

*Authority Information Access は、発行元の証明機関の証明書を検索するために使用されるサービスの場所記述子です。

### <a name="crl"></a>CRL

*証明書失効リストは、リモート Secure Sockets Layerから受け取った証明書が有効で信頼できることを確認する SSL (SSL) エンドポイントの手段を提供します。

### <a name="cvss-score"></a>CVSS スコア

*一般的な脆弱性スコアリング システムは、脆弱性を測定し、その重大度に基づいて数値スコアを計算する公開された標準です。

### <a name="cvss-patch-management-guidelines"></a>CVSS パッチ管理ガイドライン

* クリティカル (9.0 ~ 10.0)
* High (7.0 ~ 8.9)
* Medium (4.0 ~ 6.9)
* 低 (0.0 ~ 3.9)

### <a name="dmz"></a>DMZ

*非武装地帯は、物理的または論理的な中間ネットワークであり、ホストの内部、プライベート ネットワークを分離および分離しながら、外部ネットワークまたは非所有者ネットワークと直接やり取りします。

### <a name="euii"></a>EUII

*エンド ユーザー識別可能な情報*。

### <a name="gdpr"></a>GDPR

*一般データ保護規則は、アプリケーション サイトの場所に関係なく、すべての EU 市民のデータに対する EU (EU) のプライバシーとデータ保護に関する規制です。

### <a name="hsts"></a>HSTS

*HTTP Strict Transport Security は、HTTP 応答ヘッダーを使用して、HTTPS 経由でのみコンテンツにアクセスするように Web ブラウザーに指示します。  これは、ダウングレード攻撃や Cookie ハイジャックから保護するように設計されています。

### <a name="iec"></a>IEC

*国際電気技術委員会。

### <a name="isms"></a>ISMS

*情報セキュリティ管理システム。

### <a name="isv"></a>ISV

独立したセキュリティ ベンダーとは、サードパーティのソフトウェアおよびハードウェア プラットフォームで動作するソフトウェアを開発、販売、販売する個人および組織です。

### <a name="iso-27001"></a>ISO 27001

組織のリスク管理ポリシーおよび手順プロセスのすべての技術的な制御のための情報セキュリティ管理システム仕様フレームワーク。

### <a name="lfi"></a>LFI

*ローカル ファイルの包含* により、攻撃者は Web ブラウザーを介してサーバー上のファイルを含めることが可能になります。

### <a name="nist"></a>NIST

米国商務省の非規制機関である国立標準研究所 (NIST) は、米国の民間組織がサイバー攻撃を防止、検出、および対応する能力を評価および承認するためのガイダンスを提供します。

### <a name="non-significant-changes"></a>重要でない変更

* マイナー なバグ修正。
* パフォーマンスのマイナーな改善。
* オペレーティング システム/ライブラリ/クライアント およびサーバー アプリケーションのパッチ。

### <a name="ocsp"></a>OCSP

*オンライン証明書の状態プロトコル* は、X.509 デジタル証明書の失効状態を確認するために使用されます。

### <a name="oii"></a>OII

*組織の識別可能な情報*。

### <a name="owasp"></a>OWASP

*Web アプリケーション セキュリティ プロジェクトを開きます*。

### <a name="pci-dss"></a>PCI DSS

*Payment Card Industry Data Security Standard*( Payment Card Industry Data Security Standard ) は、世界中のカード所有者データの安全性に関する標準を維持する組織です。

### <a name="pen-testing"></a>ペンのテスト

*侵入テスト* は、悪意のある攻撃をシミュレートして、攻撃者が悪用する可能性のあるセキュリティの脆弱性を見つけて、Web アプリをテストする方法です。

### <a name="saml"></a>SAML

*セキュリティ アサーション マークアップ言語は* 、ユーザー、ID プロバイダー、およびサービス プロバイダー間で認証および承認データを交換するためのオープン標準です。

### <a name="sensitive-data"></a>機密データ

* コントロール データにアクセスします。
* 顧客コンテンツ。
* エンド ユーザー ID 情報。
* サポート データ。
* 公開個人データ。
* エンド ユーザーの仮名情報。

### <a name="significant-changes"></a>重要な変更点

* ホスティング環境の再配置。
* サポート インフラストラクチャへの主要なアップグレード。たとえば、新しいファイアウォールの実装、前面サービスへの主要なアップグレードなどです。
* アプリへの機能と拡張機能の追加。
* 追加の機密データをキャプチャするアプリの更新。
* アプリのデータ フローまたは承認モデルの変更
* API エンドポイントまたは API エンドポイント関数の追加。

### <a name="soc-2"></a>SOC 2

*Service Organization Control 2* は、サービス プロバイダーが組織のクライアントのデータとプライバシーを安全に管理するための 5 つの信頼サービス原則で構成される技術的監査手順です。

### <a name="ssl"></a>SSL

*Secure Sockets Layer*.

### <a name="tls"></a>TLS

*トランスポート層セキュリティ*.
